"use strict";var _v=_interopRequireDefault(require("uuid/v4"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _objectWithoutProperties(a,b){if(null==a)return{};var c,d,e=_objectWithoutPropertiesLoose(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(0<=b.indexOf(c))&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function _objectWithoutPropertiesLoose(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],0<=b.indexOf(c)||(e[c]=a[c]);return e}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var _default={Query:{messages:function e(a,b,c){var d=c.models;return Object.values(d.messages)},message:function f(a,b,c){var d=b.id,e=c.models;return e.messages[d]}},Mutation:{createMessage:function i(a,b,c){var d=b.text,e=c.me,f=c.models,g=(0,_v.default)(),h={id:g,text:d,userId:e.id};return f.messages[g]=h,f.users[e.id].messageIds.push(g),h},deleteMessage:function i(a,b,c){var d=b.id,e=c.models,f=e.messages,g=f[d],h=_objectWithoutProperties(f,[d].map(_toPropertyKey));return!!g&&(e.messages=h,!0)}},Message:{user:function e(a,b,c){var d=c.models;return d.users[a.userId]}}};exports.default=_default;