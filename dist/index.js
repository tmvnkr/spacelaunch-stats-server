"use strict";var _express=_interopRequireDefault(require("express")),_apolloServerExpress=require("apollo-server-express"),_helmet=_interopRequireDefault(require("helmet")),_cors=_interopRequireDefault(require("cors")),_schema=_interopRequireDefault(require("./schema")),_resolvers=_interopRequireDefault(require("./resolvers")),_datasources=_interopRequireDefault(require("./datasources"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}require("dotenv").config();// set up any dataSources our resolvers need
const dataSources=()=>({spaceXDataAPI:new _datasources.default}),server=new _apolloServerExpress.ApolloServer({typeDefs:_schema.default,resolvers:_resolvers.default,dataSources,engine:{apiKey:process.env.ENGINE_API_KEY}}),app=(0,_express.default)();// Set up Apollo Server
app.use((0,_helmet.default)()),server.applyMiddleware({app}),app.use((0,_cors.default)());// Start our server
const PORT=process.env.PORT||5e3;app.listen({port:PORT},()=>console.log(`Server ready at http://localhost:${PORT+server.graphqlPath}`));